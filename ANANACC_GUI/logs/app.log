2025-09-25 16:47:17,709 - INFO - API response columns: []
2025-09-25 16:47:17,710 - ERROR - Колонка 'TYPE' отсутствует в ответе API
2025-09-25 16:47:17,710 - ERROR - Ошибка в get_moex_stocks: "Колонка 'TYPE' отсутствует"
2025-09-25 16:47:17,710 - INFO - Используется fallback список акций
2025-09-25 16:47:17,713 - INFO - Fallback список акций сохранен в data/stocks.csv
2025-09-25 16:47:17,713 - INFO - Список акций успешно сохранен в data/stocks.csv
2025-09-25 16:47:24,375 - ERROR - Ошибка в find_indices: 'TYPE'
2025-09-25 16:47:24,376 - ERROR - Ошибка в задаче find_indices: 'TYPE'
2025-09-25 16:47:24,376 - INFO - Ошибка: 'TYPE'
2025-09-25 16:47:51,273 - ERROR - Ошибка в find_currency_pairs: 'TYPE'
2025-09-25 16:47:51,275 - ERROR - Ошибка в задаче find_currency_pairs: 'TYPE'
2025-09-25 16:47:51,277 - INFO - Ошибка: 'TYPE'
2025-09-25 16:47:58,148 - ERROR - Ошибка в find_oil_futures: 'TYPE'
2025-09-25 16:47:58,149 - ERROR - Ошибка в задаче find_oil_futures: 'TYPE'
2025-09-25 16:47:58,149 - INFO - Ошибка: 'TYPE'
2025-09-25 16:48:03,392 - INFO - Ключевая ставка сохранена в data/key_rate.csv
2025-09-25 16:48:03,393 - INFO - Ключевая ставка сохранена в data/key_rate.csv
2025-09-25 16:48:06,185 - INFO - Сбор данных для GAZP
2025-09-25 16:48:09,999 - ERROR - $GAZP.ME: possibly delisted; no price data found  (1d 2023-01-01 -> 2025-09-25)
2025-09-25 16:48:10,002 - INFO - Используется MOEX для GAZP
2025-09-25 16:48:10,003 - INFO - Данные для GAZP сохранены в data/history/GAZP.csv (Источник: MOEX)
2025-09-25 16:48:13,010 - INFO - Сбор данных для SBER
2025-09-25 16:48:15,581 - ERROR - $SBER.ME: possibly delisted; no price data found  (1d 2023-01-01 -> 2025-09-25)
2025-09-25 16:48:15,583 - INFO - Используется MOEX для SBER
2025-09-25 16:48:15,584 - INFO - Данные для SBER сохранены в data/history/SBER.csv (Источник: MOEX)
2025-09-25 16:48:18,590 - INFO - Сбор данных для LKOH
2025-09-25 16:48:21,804 - ERROR - $LKOH.ME: possibly delisted; no price data found  (1d 2023-01-01 -> 2025-09-25)
2025-09-25 16:48:21,807 - INFO - Используется MOEX для LKOH
2025-09-25 16:48:21,809 - INFO - Данные для LKOH сохранены в data/history/LKOH.csv (Источник: MOEX)
2025-09-25 16:48:24,811 - INFO - Сбор данных для ROSN
2025-09-25 16:48:28,486 - ERROR - $ROSN.ME: possibly delisted; no price data found  (1d 2023-01-01 -> 2025-09-25)
2025-09-25 16:48:28,488 - INFO - Используется MOEX для ROSN
2025-09-25 16:48:28,490 - INFO - Данные для ROSN сохранены в data/history/ROSN.csv (Источник: MOEX)
2025-09-25 16:48:31,499 - INFO - Сбор данных для YNDX
2025-09-25 16:48:36,250 - ERROR - $YNDX.ME: possibly delisted; no timezone found
2025-09-25 16:48:36,254 - INFO - Используется MOEX для YNDX
2025-09-25 16:48:36,256 - INFO - Данные для YNDX сохранены в data/history/YNDX.csv (Источник: MOEX)
2025-09-25 16:48:39,258 - INFO - Исторические данные собраны
2025-09-25 16:49:06,407 - WARNING - Файл data/indices.csv не найден, индексы пропущены
2025-09-25 16:49:06,407 - WARNING - Файл data/currencies.csv не найден, валюты пропущены
2025-09-25 16:49:06,408 - WARNING - Файл data/history/BR.csv не найден, Brent пропущен
2025-09-25 16:49:06,440 - INFO - Объединенный датасет сохранен в data/combined_dataset_all_targets.csv
2025-09-25 16:49:06,486 - INFO - Данные объединены в data/combined_dataset_all_targets.csv
2025-09-25 16:49:30,448 - INFO - Модель и скейлер для GAZP сохранены
2025-09-25 16:49:30,456 - INFO - Модель и скейлер для SBER сохранены
2025-09-25 16:49:30,462 - INFO - Модель и скейлер для LKOH сохранены
2025-09-25 16:49:30,468 - INFO - Модель и скейлер для ROSN сохранены
2025-09-25 16:49:30,474 - INFO - Модель и скейлер для YNDX сохранены
2025-09-25 16:49:30,474 - INFO - Обучение всех моделей завершено
2025-09-25 16:49:30,474 - INFO - Модели обучены и сохранены в models/
2025-09-25 16:49:36,015 - WARNING - Ошибка получения реальных данных для GAZP: list index out of range
2025-09-25 16:49:37,057 - WARNING - Ошибка получения реальных данных для SBER: list index out of range
2025-09-25 16:49:38,160 - WARNING - Ошибка получения реальных данных для LKOH: list index out of range
2025-09-25 16:49:42,154 - WARNING - Ошибка получения реальных данных для ROSN: list index out of range
2025-09-25 16:49:44,370 - WARNING - Ошибка получения реальных данных для GAZP: list index out of range
2025-09-25 16:49:45,458 - WARNING - Ошибка получения реальных данных для SBER: list index out of range
2025-09-25 16:49:46,560 - WARNING - Ошибка получения реальных данных для LKOH: list index out of range
2025-09-25 16:49:47,616 - WARNING - Ошибка получения реальных данных для ROSN: list index out of range
2025-09-25 16:49:50,716 - WARNING - Ошибка получения реальных данных для GAZP: list index out of range
2025-09-25 16:49:51,757 - WARNING - Ошибка получения реальных данных для SBER: list index out of range
2025-09-25 16:49:53,605 - WARNING - Ошибка получения реальных данных для LKOH: list index out of range
2025-09-25 16:49:56,744 - WARNING - Ошибка получения реальных данных для ROSN: list index out of range
2025-09-25 16:50:07,451 - WARNING - Ошибка получения реальных данных для GAZP: list index out of range
2025-09-25 16:50:08,499 - WARNING - Ошибка получения реальных данных для SBER: list index out of range
2025-09-25 16:50:10,270 - WARNING - Ошибка получения реальных данных для LKOH: list index out of range
2025-09-25 16:50:11,312 - WARNING - Ошибка получения реальных данных для ROSN: list index out of range
2025-09-25 16:50:23,393 - WARNING - Ошибка получения реальных данных для GAZP: HTTPSConnectionPool(host='iss.moex.com', port=443): Max retries exceeded with url: /iss/engines/stock/markets/shares/boards/TQBR/securities/GAZP.json?iss.only=marketdata&marketdata.columns=CLOSE%2CPREVCLOSE (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002799B376280>, 'Connection to iss.moex.com timed out. (connect timeout=10)'))
2025-09-25 16:50:24,446 - WARNING - Ошибка получения реальных данных для SBER: list index out of range
2025-09-25 16:50:27,143 - WARNING - Ошибка получения реальных данных для LKOH: list index out of range
2025-09-25 16:50:30,211 - WARNING - Ошибка получения реальных данных для ROSN: list index out of range
2025-09-25 16:50:33,960 - ERROR - Ошибка в predict_and_learn: `classes=array([-1,  0,  1])` is not the same as on last call to partial_fit, was: array([-1,  1])
2025-09-25 16:50:33,960 - ERROR - Ошибка в задаче predict_and_learn: `classes=array([-1,  0,  1])` is not the same as on last call to partial_fit, was: array([-1,  1])
2025-09-25 16:50:33,961 - INFO - Ошибка: `classes=array([-1,  0,  1])` is not the same as on last call to partial_fit, was: array([-1,  1])
